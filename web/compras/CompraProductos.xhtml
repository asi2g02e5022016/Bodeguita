<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
        template="/layout/templateBDC.xhtml">
    <ui:define name="body">
        <h:form id="forprincipal" >
                  <p:growl showDetail="true" showSummary="true" />
            <p:panel id="basic" header="Compras a proveedores"  >

              <p:menubar>
                  <p:menuitem value="Nuevo" action="#{comprasBeans.nuevaCompra()}"
                                icon="ui-icon-plus" />
                    <p:menuitem value="Guardar" action="#{comprasBeans.guardarCompra()}"
                                icon="ui-icon-disk" />
                    <p:menuitem value="Imprimir" action="#{comprasBeans.imprimitCompra()}"
                                icon="ui-icon-print" />
                    <p:menuitem value="Monitor" action="#{comprasBeans.buscarCompra()}"
                                icon=" ui-icon-search" />
                </p:menubar>
                <h:panelGrid columns="2" width="100%">
                                   <h:panelGrid columns="6" width="80%">
                    <h:outputLabel  value="No Documento : "/>
                    <p:inputText value="#{comprasBeans.nodocu}"  />
                    <h:outputLabel  value="Usuario: "  />
                    <p:inputText  value="#{comprasBeans.usr}"  />
                    <h:outputLabel  value="Observaciones "  />
                    <p:inputText   value="#{comprasBeans.observacion}" />
            
                    <h:outputLabel  value="Fecha "  />
                    <p:inputText  value="#{comprasBeans.fecha}"  />
                    <h:outputLabel  value="Estado "  />
                    <p:inputText   value="#{comprasBeans.estado}"  />
                    <h:outputLabel  value="Codigo "  />
                    <p:inputText  value="#{comprasBeans.codigo}"  />
                    <h:outputLabel  value="Serie "  />
                    <p:inputText   value="#{comprasBeans.serie}"  />
      
                </h:panelGrid>
                    <h:panelGrid columns="3" width="20%">
                                              <h:outputLabel  value="Proveedor "  />
                    <p:inputText  value="#{comprasBeans.nombreProveedor}"  />
                    <p:commandButton   action="#{comprasBeans.mostrarDialogProveedor()}"
                                         id="iconOnly" 
                                         icon="ui-icon-search" title="Icon Only" />
                    </h:panelGrid>
                     <p:outputLabel value="Select Event:" for="event" />
        <p:autoComplete id="event" value="#{autoCompleteView.txt8}" completeMethod="#{autoCompleteView.completeText}">
            <p:ajax event="itemSelect" listener="#{autoCompleteView.onItemSelect}" update="msgs" />
        </p:autoComplete>
                </h:panelGrid>
 
                <h:panelGrid >
                    <p:dataTable value="#{comprasBeans.lstCompradeta}" var="det"  emptyMessage=""  >
                      
                        <p:column headerText="cod.">
                            <h:outputText value="#{det.idProducto}" />
                        </p:column>

                        <p:column headerText="Descripcion">
                            <h:outputText value="#{det.idProducto.producto}"  />
                        </p:column>

                        <p:column headerText="Cantidad solic">
                            <h:outputText value="#{det.cantidadSolicitada}"  />
                        </p:column>

                        <p:column headerText="Cantidad Reb">
                            <h:outputText value="#{det.cantidadConfirmada}"  />
                        </p:column>
                          <p:column headerText="Precio">
                              <h:outputText value="#{det.precio}"  />
                        </p:column>
                           <p:column headerText="Monto">
                            <h:outputText value="#{det.precio}"  />
                        </p:column>
                          <p:column headerText="Imp">
                            <h:outputText value="#{det.precio}" />
                        </p:column>
                          <p:column headerText="Total">
                            <h:outputText value="#{det.precio}" />
                        </p:column>
                         <p:column style="width:32px">
                             <f:facet name="header">
                                 <p:commandButton  
                                     id="iconOnly" action="#{comprasBeans.mostrarDialogProd()}"
                                         icon="ui-icon-plus"  />
                             </f:facet>
                      <p:rowEditor />
                 </p:column>
                    </p:dataTable>
                </h:panelGrid>
            </p:panel>
                  
            <p:dialog header="Buscar Proveedor" widgetVar="dialogoProveedor" minHeight="100">
                <h:panelGrid columns="1" width="100%">
                <p:menubar>
                    <p:menuitem value="Nuevo" action="#{comprasBeans.limpiarProveedor()}"
                                icon="ui-icon-plus" />
                    <p:menuitem value="Buscar" update="forprincipal"
                                action="#{comprasBeans.buscarProveedor()}"
                                icon=" ui-icon-search" />
                </p:menubar>
                </h:panelGrid>
                <h:panelGrid columns="2" width="80%">
                    <h:outputLabel  value="Nombres "  />
                    <p:inputText   value="#{comprasBeans.nombreProveedor}" />
                </h:panelGrid>
                <h:panelGrid >
                    <p:dataTable value="#{comprasBeans.lstProveedor}"  var="dpro"  emptyMessage=""  >
                        <p:column headerText="nombre">
                            <h:outputText value="#{dpro.proveedor}"  />
                        </p:column>
                        <p:column headerText="direccion">
                            <h:outputText value="#{dpro.direccion}"  />
                        </p:column>
                          <p:column headerText="tel">
                              <h:outputText value="#{dpro.telefono}"  />
                        </p:column>
                    </p:dataTable>
                </h:panelGrid>
         </p:dialog>
                <p:dialog header="Buscar producto" widgetVar="dialogoProducto"
                          width="50%"
                          binding="#{comprasBeans.dialogProductos}">
                <h:panelGrid columns="1" width="100%">
                <p:menubar>
                    <p:menuitem value="Limpiar" action="#{comprasBeans.limpiarProducto()}"
                                icon="ui-icon-plus" />
                    <p:menuitem id="idBuscarPro" value="Buscar" update="forprincipal"
                                ajax="true" action="#{comprasBeans.buscarProducto()}"
                                icon=" ui-icon-search" > 
                    </p:menuitem>
                     
                </p:menubar>
                </h:panelGrid>
                <h:panelGrid columns="2" width="80%">
                    <h:outputLabel  value="Cantidad "  />
                    <p:inputText    />
                    <h:outputLabel  value="Descripcion "  />
                    <p:inputText   value="#{comprasBeans.descripcionProducto}" />
                </h:panelGrid>

                <h:panelGrid >
                    <p:dataTable id="tablaProd" binding="#{comprasBeans.tablaProd}"
                                 value="#{comprasBeans.lstProducto}" 
                                 
                                 var="dpro" rowKey="#{dpro.idProducto}"
                                 selectionMode="single" rows="19"  >
                        
                        <p:column headerText="descripcion">
                            <h:outputText value="#{dpro.producto}"  />
                        </p:column>
                        <p:column headerText="medida">
                            <h:outputText value="#{dpro.idMedida.medida}"  />
                        </p:column>
                          <p:column headerText="tipo">
                              <h:outputText value="#{dpro.idTipoProducto.tipoProducto}"  />
                        </p:column>
                           <p:column headerText="grupo">
                               <h:outputText value="#{dpro.idGrupoProducto.grupoProducto}"  />
                        <p:column headerText="maras">
                            <h:outputText value="#{dpro.idMarcaProducto.marcaProducto}"  />
                        </p:column>
                        </p:column>
                    </p:dataTable>
                </h:panelGrid>
       </p:dialog>

        </h:form>
    </ui:define>
</ui:composition>
